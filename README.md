# Codegen Orchestrator

Мультиагентный оркестратор на базе LangGraph для автоматической генерации и деплоя проектов.

**Вход**: Описание проекта в Телеграме  
**Выход**: Работающий проект в продакшене (код, CI/CD, домен, SSL)

## Философия

- **Автономность**: Человек заходит раз в несколько дней, смотрит отчёты, докидывает деньги
- **Агенты как узлы графа**: Каждый агент — специалист со своими инструментами
- **Нелинейность**: Агенты могут вызывать друг друга в любом порядке
- **Spec-first**: Используем [service-template](https://github.com/vladmesh/service-template) для генерации кода

## Архитектура

```
┌─────────────────────────────────────────────────────────────────┐
│                        Telegram Bot                             │
│                     (интерфейс пользователя)                    │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                       LangGraph Orchestrator                    │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────────────┐ │
│  │ Брейн-   │  │Архитек-  │  │ Разра-   │  │   Тестиров-      │ │
│  │ сторм    │◄─►  тор     │◄─►ботчик   │◄─►    щик            │ │
│  └──────────┘  └──────────┘  └──────────┘  └──────────────────┘ │
│       ▲              ▲              ▲              ▲            │
│       │              │              │              │            │
│       ▼              ▼              ▼              ▼            │
│  ┌──────────┐  ┌──────────┐  ┌──────────────────────────────┐   │
│  │  Завхоз  │  │  DevOps  │  │      Документатор            │   │
│  │(ресурсы) │  │ (инфра)  │  │                              │   │
│  └──────────┘  └──────────┘  └──────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
                    │                    │
                    ▼                    ▼
        ┌───────────────────┐   ┌───────────────────┐
        │  service-template │   │    prod_infra     │
        │   (кодогенерация) │   │   (Ansible)       │
        └───────────────────┘   └───────────────────┘
```

## Связанные проекты

| Проект | Описание | Репо |
|--------|----------|------|
| **service-template** | Spec-first фреймворк для генерации микросервисов | [GitHub](https://github.com/vladmesh/service-template) |
| **prod_infra** | Ansible playbooks для настройки серверов | [GitHub](https://github.com/vladmesh/prod_infra) |
| **Ресурсница** | Хранение и выдача ключей, токенов, доменов | *TODO* |

## Инфраструктура

- **LangGraph сервер**: Отдельный сервер для оркестратора и агентов
- **Prod серверы**: Управляются через prod_infra, используются для деплоя сгенерированных проектов
- **Телеграм**: Основной интерфейс для взаимодействия с человеком

## Документация

- [AGENTS.md](AGENTS.md) — описание каждого агента
- [ARCHITECTURE.md](ARCHITECTURE.md) — техническая архитектура

## Roadmap

1. **Фаза 0**: Структура проекта, state schema, минимальный граф
2. **Фаза 1**: Вертикальный слайс (Телеграм → генерация бота → деплой)
3. **Фаза 2**: Горизонтальное расширение (разработчик, тестировщик, сложные проекты)
4. **Фаза 3**: Автономная работа с отчётами