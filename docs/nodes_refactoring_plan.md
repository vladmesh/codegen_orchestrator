# –ü–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–æ–¥ LangGraph

## –ö–æ–Ω—Ç–µ–∫—Å—Ç

–¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–æ–¥ —Å–º–µ—à–∏–≤–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –≤ –æ–¥–Ω–æ–π –ø–∞–ø–∫–µ `nodes/`. –ù—É–∂–Ω–æ:
1. –ß—ë—Ç–∫–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å —Ç–∏–ø—ã –Ω–æ–¥
2. –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –∞–¥–º–∏–Ω–∫–∏
3. –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞

## –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–æ–¥

### 1. LLM-–Ω–æ–¥—ã
–ê–≥–µ–Ω—Ç—ã, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —á–µ—Ä–µ–∑ LangChain/LangGraph —Å tool calling.

**–¢–µ–∫—É—â–∏–µ:** `brainstorm`, `product_owner`, `zavhoz`, `architect`

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- `model` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ (gpt-4o, claude-3.5-sonnet)
- `system_prompt` ‚Äî —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç
- `temperature` ‚Äî —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- `tools` ‚Äî —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- `timeout_seconds` ‚Äî —Ç–∞–π–º–∞—É—Ç –Ω–∞ –æ–¥–∏–Ω –≤—ã–∑–æ–≤ LLM

**–•—Ä–∞–Ω–µ–Ω–∏–µ:** –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—Ç–∞–±–ª–∏—Ü–∞ `agent_configs`, —É–∂–µ –µ—Å—Ç—å)

---

### 2. CLI-–∞–≥–µ–Ω—Ç –Ω–æ–¥—ã
–í–Ω–µ—à–Ω–∏–µ coding-–∞–≥–µ–Ω—Ç—ã, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö.

**–¢–µ–∫—É—â–∏–µ:** `architect.spawn_factory_worker`, `developer.spawn_worker`

**–ë—É–¥—É—â–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã:** Droid (Factory.ai), Claude Code, Codex (OpenAI)

**–û–±—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å):**
- `model` ‚Äî –º–æ–¥–µ–ª—å –¥–ª—è –∞–≥–µ–Ω—Ç–∞
- `prompt_template` ‚Äî —à–∞–±–ª–æ–Ω –∑–∞–¥–∞—á–∏ —Å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∞–º–∏
- `timeout_seconds` ‚Äî —Ç–∞–π–º–∞—É—Ç –Ω–∞ –≤—Å—é —Ä–∞–±–æ—Ç—É
- `workspace_image` ‚Äî Docker –æ–±—Ä–∞–∑
- `required_credentials` ‚Äî —Å–ø–∏—Å–æ–∫ –Ω—É–∂–Ω—ã—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤

**–°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–ø–æ—Ç–æ–º–∫–∏):**

| –ü—Ä–æ–≤–∞–π–¥–µ—Ä | –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–æ–ª—è |
|-----------|------------------|
| Droid | `autonomy` (low/medium/high), `skip_permissions` |
| Claude Code | `allowed_tools`, `max_turns` |
| Codex | TBD |

**–•—Ä–∞–Ω–µ–Ω–∏–µ:** –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–Ω–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∏–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `agent_configs`)

---

### 3. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–æ–¥—ã
–î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –±–µ–∑ LLM.

**–¢–µ–∫—É—â–∏–µ:** `devops`, `provisioner`

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- `timeout_seconds`
- `retry_policy` (max_attempts, backoff strategy)
- –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (playbook paths, etc.)

**–•—Ä–∞–Ω–µ–Ω–∏–µ:** –ö–æ–¥ –∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥-—Ñ–∞–π–ª—ã (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤ –ë–î)

---

## –ò–µ—Ä–∞—Ä—Ö–∏—è –∫–ª–∞—Å—Å–æ–≤

```
BaseNode
‚îú‚îÄ‚îÄ LLMNode
‚îÇ   - model: str
‚îÇ   - system_prompt: str
‚îÇ   - temperature: float
‚îÇ   - tools: list[str]
‚îÇ
‚îú‚îÄ‚îÄ FunctionalNode
‚îÇ   - timeout_seconds: int
‚îÇ   - retry_policy: RetryPolicy
‚îÇ
‚îî‚îÄ‚îÄ CLIAgentNode (abstract)
    - model: str
    - prompt_template: str
    - timeout_seconds: int
    - workspace_image: str
    - required_credentials: list[str]
    ‚îÇ
    ‚îú‚îÄ‚îÄ DroidNode
    ‚îÇ   - autonomy: Literal["low", "medium", "high"]
    ‚îÇ   - skip_permissions: bool
    ‚îÇ
    ‚îú‚îÄ‚îÄ ClaudeCodeNode
    ‚îÇ   - allowed_tools: list[str] | None
    ‚îÇ   - max_turns: int | None
    ‚îÇ
    ‚îî‚îÄ‚îÄ CodexNode
        - ... (TBD)
```

---

## –ö–æ–Ω—Ç—Ä–∞–∫—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ CLI-–∞–≥–µ–Ω—Ç–æ–≤

### –°–æ–±—ã—Ç–∏—è —á–µ—Ä–µ–∑ Redis pub/sub

**–ö–∞–Ω–∞–ª—ã:**
- `worker:events:{request_id}` ‚Äî —Å–æ–±—ã—Ç–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –≤–æ—Ä–∫–µ—Ä–∞
- `worker:events:all` ‚Äî –≤—Å–µ —Å–æ–±—ã—Ç–∏—è (–¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞)

**–¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π:**

```python
class WorkerEvent(BaseModel):
    request_id: str
    event_type: Literal["started", "progress", "completed", "failed"]
    timestamp: datetime
    worker_type: str  # "droid" | "claude_code" | "codex"

class WorkerStarted(WorkerEvent):
    repo: str
    task_summary: str

class WorkerProgress(WorkerEvent):
    message: str
    progress_pct: int | None = None

class WorkerCompleted(WorkerEvent):
    commit_sha: str | None
    branch: str
    files_changed: list[str]
    summary: str

class WorkerFailed(WorkerEvent):
    error_type: str  # "timeout" | "crash" | "task_failed"
    error_message: str
    logs_tail: str
```

### Env vars –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ

```bash
ORCHESTRATOR_REDIS_URL=redis://redis:6379
ORCHESTRATOR_REQUEST_ID=abc123
ORCHESTRATOR_EVENTS_CHANNEL=worker:events:abc123
```

> **–ó–∞–º–µ—á–∞–Ω–∏–µ:** –ù—É–∂–µ–Ω –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π SDK –∏–ª–∏ shell-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–±—ã—Ç–∏–π.
> –í–∞—Ä–∏–∞–Ω—Ç—ã: pip-–ø–∞–∫–µ—Ç `orchestrator-worker-sdk` –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ `curl` –∫ API.

---

## –°–µ–∫—Ä–µ—Ç—ã –¥–ª—è CLI-–∞–≥–µ–Ω—Ç–æ–≤

CLI-–∞–≥–µ–Ω—Ç—ã –Ω–µ –ø–æ–ª—É—á–∞—é—Ç —Å–µ–∫—Ä–µ—Ç—ã –Ω–∞–ø—Ä—è–º—É—é. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ:

**–í–∞—Ä–∏–∞–Ω—Ç: Secrets API**
```bash
# –ê–≥–µ–Ω—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å–µ–∫—Ä–µ—Ç –ø–æ –∏–º–µ–Ω–∏
curl -H "X-Request-ID: $REQUEST_ID" \
     http://api:8000/internal/secrets/GITHUB_TOKEN
```

**–ü–ª—é—Å—ã:**
- –ê—É–¥–∏—Ç –ª–æ–≥ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å–µ–∫—Ä–µ—Ç–æ–≤
- –ú–æ–∂–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–∞–∫–∏–µ —Å–µ–∫—Ä–µ—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã –∫–∞–∫–æ–º—É –≤–æ—Ä–∫–µ—Ä—É
- –°–µ–∫—Ä–µ—Ç—ã –Ω–µ –ª–µ–∂–∞—Ç –≤ env vars –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

> **–ó–∞–º–µ—á–∞–Ω–∏–µ:** –¢—Ä–µ–±—É–µ—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤. 
> MVP: –ø—Ä–æ—Å—Ç–æ–π endpoint –≤ API, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç request_id –∏ –æ—Ç–¥–∞—ë—Ç —Å–µ–∫—Ä–µ—Ç.
> Production: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Vault –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–æ–º.

---

## Prompt templates –¥–ª—è CLI-–∞–≥–µ–Ω—Ç–æ–≤

–®–∞–±–ª–æ–Ω—ã –∑–∞–¥–∞—á —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ë–î, –∫–∞–∫ –∏ –ø—Ä–æ–º–ø—Ç—ã LLM-–Ω–æ–¥.

**–§–æ—Ä–º–∞—Ç:**
```markdown
# Project: {project_name}

## Description
{description}

## Requirements
- Modules: {modules}
- Entry Points: {entry_points}

## Task
{task_instructions}

## Important
- Read AGENTS.md for context
- Commit and push changes
```

**–ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –∏–∑ state —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –Ω–æ–¥—ã.

> **–ó–∞–º–µ—á–∞–Ω–∏–µ:** –ù—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –Ω–∞–±–æ—Ä –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–æ–≤.
> –í–æ–∑–º–æ–∂–Ω–æ, —Å–¥–µ–ª–∞—Ç—å –∏—Ö —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —á–µ—Ä–µ–∑ Pydantic –º–æ–¥–µ–ª—å.

---

## –ü–ª–∞–Ω –∏—Ç–µ—Ä–∞—Ü–∏–π

### –ò—Ç–µ—Ä–∞—Ü–∏—è 1: –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–æ–≤

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—é –∫–ª–∞—Å—Å–æ–≤ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è.

**–®–∞–≥–∏:**
1. [x] –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã (—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤ `services/langgraph/src/nodes/base.py`)
2. [x] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å `BaseNode`, `LLMNode`, `CLIAgentNode`, `FunctionalNode`
3. [x] –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –Ω–æ–¥—ã –Ω–∞ –Ω–æ–≤—É—é –∏–µ—Ä–∞—Ä—Ö–∏—é
4. [x] –¢–µ—Å—Ç—ã: —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ (`make test-unit`)

**–§–∞–π–ª—ã (—Ñ–∞–∫—Ç):**
- `services/langgraph/src/nodes/base.py`

> **–†–µ—à–µ–Ω–æ:** –ë–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã –æ—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ `services/langgraph/src/nodes/base.py` (—Ä—è–¥–æ–º —Å –Ω–æ–¥–∞–º–∏).

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 2: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è CLI-–∞–≥–µ–Ω—Ç–æ–≤ –≤ –ë–î

**–¶–µ–ª—å:** –í—ã–Ω–µ—Å—Ç–∏ prompt templates –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CLI-–∞–≥–µ–Ω—Ç–æ–≤ –≤ –ë–î.

**–®–∞–≥–∏:**
**–®–∞–≥–∏:**
1. [x] –†–∞—Å—à–∏—Ä–∏—Ç—å —Ç–∞–±–ª–∏—Üy `agent_configs` –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å `cli_agent_configs`
2. [x] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è: `provider`, `autonomy`, `workspace_image`, `prompt_template`
3. [x] –°–æ–∑–¥–∞—Ç—å API endpoints –¥–ª—è CRUD
4. [ ] –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å hardcoded –∫–æ–Ω—Ñ–∏–≥–∏ –∏–∑ `architect.py` (—Ç—Ä–µ–±—É–µ—Ç—Å—è –º–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö)

**–°—Ö–µ–º–∞ —Ç–∞–±–ª–∏—Ü—ã (—Ñ–∞–∫—Ç):**
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ `cli_agent_configs` –¥–ª—è —á–∏—Å—Ç–æ—Ç—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

> **–†–µ—à–µ–Ω–æ:** –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–∞–∑–¥–µ–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã (`agent_configs` –∏ `cli_agent_configs`).

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 3: –ö–æ–Ω—Ç—Ä–∞–∫—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–¶–µ–ª—å:** –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫ CLI-–∞–≥–µ–Ω—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.

**–®–∞–≥–∏:**
1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å Pydantic –º–æ–¥–µ–ª–∏ —Å–æ–±—ã—Ç–∏–π (`WorkerEvent`, `WorkerCompleted`, etc.)
2. –°–æ–∑–¥–∞—Ç—å `orchestrator-worker-sdk` (–∏–ª–∏ shell wrapper)
3. –û–±–Ω–æ–≤–∏—Ç—å `worker-spawner` –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π
4. –û–±–Ω–æ–≤–∏—Ç—å `coding-worker` –æ–±—Ä–∞–∑ ‚Äî –¥–æ–±–∞–≤–∏—Ç—å SDK
5. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç: spawn ‚Üí work ‚Üí event ‚Üí state update

**–§–∞–π–ª—ã:**
- `shared/schemas/worker_events.py`
- `services/worker-spawner/src/event_listener.py`
- `services/coding-worker/scripts/report_result.sh` (–∏–ª–∏ SDK)

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 4: Secrets API

**–¶–µ–ª—å:** CLI-–∞–≥–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç —Å–µ–∫—Ä–µ—Ç—ã —á–µ—Ä–µ–∑ API, –∞ –Ω–µ env vars.

**–®–∞–≥–∏:**
1. Endpoint `POST /internal/secrets/{secret_name}`
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ `X-Request-ID` ‚Äî —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –≤–æ—Ä–∫–µ—Ä—ã –º–æ–≥—É—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å
3. –ê—É–¥–∏—Ç –ª–æ–≥ –∑–∞–ø—Ä–æ—Å–æ–≤
4. –û–±–Ω–æ–≤–∏—Ç—å `coding-worker` ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API –≤–º–µ—Å—Ç–æ env vars

> **–ó–∞–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–æ –º–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å. –î–ª—è MVP env vars –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ,
> –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —ç—Ñ–µ–º–µ—Ä–Ω—ã–µ –∏ –Ω–µ –ª–æ–≥–∏—Ä—É—é—Ç —Å–≤–æ–π env.

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 5: –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã Claude Code –∏ Codex

**–¶–µ–ª—å:** –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –Ω–æ–≤—ã—Ö CLI-–∞–≥–µ–Ω—Ç–æ–≤.

**–®–∞–≥–∏:**
1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `ClaudeCodeNode` —Å `build_command()`
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `CodexNode` (–∫–æ–≥–¥–∞ —É–∑–Ω–∞–µ–º API)
3. –û–±–Ω–æ–≤–∏—Ç—å `worker-spawner` –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–±—Ä–∞–∑–æ–≤/–∫–æ–º–∞–Ω–¥
4. –¢–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

> **–ë–ª–æ–∫–µ—Ä:** –ù—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å –∫–∞–∫ Claude Code –∏ Codex —Ä–∞–±–æ—Ç–∞—é—Ç –≤ headless —Ä–µ–∂–∏–º–µ.
> Claude Code —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É, Codex ‚Äî –¥–æ—Å—Ç—É–ø –∫ API.

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 6: –ê–¥–º–∏–Ω–∫–∞

**–¶–µ–ª—å:** UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –Ω–æ–¥.

**–®–∞–≥–∏:**
1. –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–ø–∏—Å–∫–∞ –Ω–æ–¥ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ —Ç–∏–ø—É
2. –§–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è LLM-–Ω–æ–¥—ã
3. –§–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è CLI-–∞–≥–µ–Ω—Ç–∞ (—Å –≤—ã–±–æ—Ä–æ–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞)
4. Preview prompt template —Å –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–æ–π —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

> **–ó–∞–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π –±–æ–ª—å—à–æ–π –∫—É—Å–æ–∫ —Ä–∞–±–æ—Ç—ã.
> –ú–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å —Å JSON-—Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –≤ –ø—Ä–æ—Å—Ç–æ–º UI.

---

## –û—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

1. **–ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—å –±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã?** ‚Äî —Ä–µ—à–µ–Ω–æ
   - –í—ã–±—Ä–∞–Ω–æ: `services/langgraph/src/nodes/base.py`

2. **–û–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ?**
   - –û–¥–Ω–∞ `agent_configs` —Å `node_type` –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞—Ç–æ—Ä–æ–º
   - –û—Ç–¥–µ–ª—å–Ω—ã–µ `llm_configs`, `cli_agent_configs`

3. **SDK –∏–ª–∏ shell?**
   - Pip-–ø–∞–∫–µ—Ç `orchestrator-worker-sdk`
   - –ü—Ä–æ—Å—Ç–æ `curl` –∫ API —á–µ—Ä–µ–∑ bash —Å–∫—Ä–∏–ø—Ç
   - –û–±–∞ (SDK –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç curl/httpx)

4. **–ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å CLI-–∞–≥–µ–Ω—Ç–æ–≤?**
   - Mock worker –∫–æ—Ç–æ—Ä—ã–π —Å—Ä–∞–∑—É —à–ª—ë—Ç `completed`?
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º Droid (–¥–æ—Ä–æ–≥–æ)?

5. **Progress —Å–æ–±—ã—Ç–∏—è ‚Äî –Ω—É–∂–Ω—ã –ª–∏?**
   - –î–ª—è UI –ø—Ä–∏—è—Ç–Ω–æ –≤–∏–¥–µ—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
   - –ù–æ —Ç—Ä–µ–±—É–µ—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞ stdout –∞–≥–µ–Ω—Ç–æ–≤
   - MVP: —Ç–æ–ª—å–∫–æ started/completed/failed

---

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

| –ò—Ç–µ—Ä–∞—Ü–∏—è | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –ë–ª–æ–∫–µ—Ä—ã |
|----------|-----------|---------|
| 1. –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ | [x] –ó–∞–≤–µ—Ä—à–µ–Ω–æ | –ù–µ—Ç |
| 2. –ö–æ–Ω—Ñ–∏–≥ –≤ –ë–î | [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö) | –ò—Ç–µ—Ä–∞—Ü–∏—è 1 |
| 3. –ö–æ–Ω—Ç—Ä–∞–∫—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ | üü° –°—Ä–µ–¥–Ω–∏–π | –ò—Ç–µ—Ä–∞—Ü–∏—è 1 |
| 4. Secrets API | üü¢ –ù–∏–∑–∫–∏–π | –ú–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å |
| 5. –ù–æ–≤—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã | üü° –°—Ä–µ–¥–Ω–∏–π | –ò—Ç–µ—Ä–∞—Ü–∏–∏ 1-3, –¥–æ—Å—Ç—É–ø –∫ API |
| 6. –ê–¥–º–∏–Ω–∫–∞ | üü° –°—Ä–µ–¥–Ω–∏–π | –ò—Ç–µ—Ä–∞—Ü–∏–∏ 1-2 |
